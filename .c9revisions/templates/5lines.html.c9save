{"ts":1362374285747,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"<!DOCTYPE html>\r\n<html>\r\n<head>\r\n<title>5 lines</title>\r\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, user-scalable=no\">\r\n<style type=\"text/css\">\r\nbody{margin:0;padding:0;font-family:sans-serif;color:#333;}\r\n#paintBox{}\r\n.menuButton{position:absolute;top:0px;left:0px;z-index:99;background-color:#eee;border:1px solid #ddd;padding:10px 20px;}\r\n.menu{display:none;position:absolute;top:0px;left:0px;z-index:100;background-color:#eee;padding:4%;width:40%;height:70%;}\r\n.menubutton {background-color:#ddd;text-align:center;padding:10px 0;border:1px solid #ccc;margin:20px 0;}\r\n#closemenu{position:absolute;top:10px;right:10px;padding:5px 10px;background-color:#ddd;margin:0;border:1px solid #ccc;}\r\n#paintbrush{width:1px;height:1px;background-color:#000;border-radius:1px;margin:20px auto;}\r\n#widthSlider{width:100%;}\r\n.colors{height:50px;margin:20px 0 30px 0;}\r\n.colorBtn{width:10%;height:100%;float:left;}\r\n\r\n</style>\r\n<script type=\"text/javascript\">\r\n  var canvas = null; //canvas object\r\n  var context = null; //canvas's context object\r\n  var lines = new Array();\r\n\r\n  /*boolean var to check if the touchstart event\r\n  is caused and then record the initial co-ordinate*/\r\n  var buttonDown = false;\r\n\r\n  //onLoad event register\r\n  window.addEventListener('load', initApp, false);\r\n\r\n  function initApp() {\r\n    setTimeout(function() { window.scrollTo(0, 1); }, 10); //hide the address bar of the browser.\r\n    canvas = document.getElementById('paintBox');\r\n\r\n    setCanvasDmiension();\r\n    initializeEvents();\r\n    \r\n    context = canvas.getContext('2d'); //get the 2D drawing context of the canvas\r\n\r\n    context.lineCap = 'round';\r\n\r\n    computelines();\r\n    drawlines();\r\n\r\n}\r\n\r\nfunction setCanvasDmiension() {\r\n  //canvas.width = 300; //window.innerWidth;\r\n  canvas.width = window.innerWidth-5;\r\n  canvas.height = window.innerHeight-5; //setting the height of the canvas\r\n}\r\n\r\nfunction initializeEvents() {\r\n  canvas.addEventListener('touchstart', startPaint, false);\r\n  canvas.addEventListener('mousedown', startPaintDesk, false);\r\n  canvas.addEventListener('touchmove', continuePaint, false);\r\n  canvas.addEventListener('mousemove', continuePaintDesk, false);\r\n  canvas.addEventListener('touchend', stopPaint, false);\r\n  canvas.addEventListener('mouseup', stopPaint, false);\r\n}\r\n\r\nfunction computelines() {\r\n  var i = 0;\r\n  while (i<5)\r\n  {\r\n    var xpos = (canvas.width*.2)+Math.floor(Math.random()*(canvas.width*.6));\r\n    var ypos = (canvas.height*.2)+Math.floor(Math.random()*(canvas.height*.6));\r\n    var x1 = xpos + Math.floor(Math.random()*200) - 100;\r\n    var y1 = ypos + Math.floor(Math.random()*200) - 100;\r\n    var x2 = xpos + Math.floor(Math.random()*200) - 100;\r\n    var y2 = ypos + Math.floor(Math.random()*200) - 100;\r\n    var x3 = xpos + Math.floor(Math.random()*200) - 100;\r\n    var y3 = ypos + Math.floor(Math.random()*200) - 100;\r\n    lines[i] = [xpos,ypos,x1,y1,x2,y2,x3,y3];\r\n  i++;\r\n}\r\n}\r\n\r\nfunction drawlines() {\r\n  var j = 0;\r\nwhile (j < 5){\r\ncontext.beginPath();\r\n  context.moveTo(lines[j][0],lines[j][1]);\r\n  context.bezierCurveTo(lines[j][2],lines[j][3],lines[j][4],lines[j][5],lines[j][6],lines[j][7],lines[j][8]);\r\n  context.stroke();\r\n  j++;\r\n}\r\n}\r\n\r\nfunction clearCanvas() {\r\n  var currentStrokeColor = context.strokeStyle;\r\n  var currentStrokeWidth = context.lineWidth;\r\n  context.strokeStyle = '#000000';\r\n  context.lineWidth = 1;\r\n  context.clearRect(0,0,canvas.width,canvas.height);\r\n  drawlines();\r\n  context.strokeStyle = currentStrokeColor;\r\n  context.lineWidth = currentStrokeWidth;\r\n}\r\n\r\nfunction startPaint(evt) {\r\n  if(!buttonDown)\r\n  {\r\n    context.beginPath();\r\n    context.moveTo(evt.touches[0].pageX, evt.touches[0].pageY);\r\n    buttonDown = true;\r\n  }\r\n  evt.preventDefault();\r\n}\r\n\r\nfunction startPaintDesk(evt) {\r\n  if(!buttonDown)\r\n  {\r\n    context.beginPath();\r\n    context.moveTo(evt.offsetX, evt.offsetY);\r\n    buttonDown = true;\r\n  }\r\n  evt.preventDefault();\r\n}\r\n\r\nfunction continuePaint(evt) {\r\n  if(buttonDown)\r\n  {\r\n    context.lineTo(evt.touches[0].pageX,evt.touches[0].pageY);\r\n    context.stroke();\r\n  }\r\n}\r\n\r\nfunction continuePaintDesk(evt) {\r\n  if(buttonDown)\r\n  {\r\n    context.lineTo(evt.offsetX,evt.offsetY);\r\n    context.stroke();\r\n  }\r\n}\r\n\r\nfunction stopPaint() {\r\n  buttonDown = false;\r\n}\r\n\r\nfunction showMenu() {\r\n  document.getElementById(\"menu\").style.display=\"block\";\r\n}\r\n\r\nfunction closeMenu() {\r\n  document.getElementById(\"menu\").style.display=\"none\";\r\n}\r\n\r\nfunction setWidth(width) {\r\n  context.lineWidth = width;\r\n  document.getElementById(\"paintbrush\").style.width=width + 'px';\r\n  document.getElementById(\"paintbrush\").style.height=width + 'px';\r\n  document.getElementById(\"paintbrush\").style.borderRadius=width + 'px';\r\n}\r\n\r\nfunction setColor(color) {\r\n  context.strokeStyle = color;\r\n  document.getElementById(\"paintbrush\").style.backgroundColor=color;\r\n}\r\n</script>\r\n</head>\r\n<body>\r\n  <div class=\"menuButton\" onClick=\"showMenu()\">Menu</div>\r\n  <div class=\"menu\" id=\"menu\">\r\n    <div  id=\"closemenu\" onClick=\"closeMenu()\">X</div>\r\n    <div id=\"paintbrush\"></div>\r\n    <input id=\"widthSlider\" type=\"range\" min=\"1\" max=\"50\" step=\"1\" value=\"1\" onchange=\"setWidth(this.value)\" />\r\n    <div class=\"colors\">\r\n      <div class=\"colorBtn\" onClick=\"setColor('#FF0000')\" style=\"background-color:#FF0000\"></div>\r\n      <div class=\"colorBtn\" onClick=\"setColor('#00FF00')\" style=\"background-color:#00FF00\"></div>\r\n      <div class=\"colorBtn\" onClick=\"setColor('#0000FF')\" style=\"background-color:#0000FF\"></div>\r\n    </div>\r\n    <div class=\"menubutton\" onClick=\"clearCanvas()\">Clear Canvas</div>\r\n</div>\r\n  <canvas id=\"paintBox\">\r\n    Your browser doesnot support canvas\r\n  </canvas>\r\n</body>\r\n</html>"]],"start1":0,"start2":0,"length1":0,"length2":5698}]],"length":5698}
