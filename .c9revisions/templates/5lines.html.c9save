{"ts":1362069395033,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"<!DOCTYPE html>\r\n<html>\r\n<head>\r\n<title>HTML5 Canvas Paint App - Mobile Web</title>\r\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, user-scalable=no\">\r\n<style type=\"text/css\">\r\nbody\r\n{\r\n  margin:20px;\r\n  padding:0;\r\n}\r\n#paintBox\r\n{\r\n  border:1px solid #9a9a9a;\r\n}\r\n</style>\r\n<script type=\"text/javascript\">\r\n  var canvas = null; //canvas object\r\n  var context = null; //canvas's context object\r\n  var clearBtn = null; //clear button object\r\n\r\n  /*boolean var to check if the touchstart event\r\n  is caused and then record the initial co-ordinate*/\r\n  var buttonDown = false;\r\n\r\n  //onLoad event register\r\n  window.addEventListener('load', initApp, false);\r\n\r\n  function initApp() {\r\n    setTimeout(function() { window.scrollTo(0, 1); }, 10); //hide the address bar of the browser.\r\n    canvas = document.getElementById('paintBox');\r\n    clearBtn = document.getElementById('clearBtn');\r\n\r\n    setCanvasDmiension();\r\n    initializeEvents();\r\n    \r\n    context = canvas.getContext('2d'); //get the 2D drawing context of the canvas\r\n\r\n    lines();\r\n\r\n}\r\n\r\nfunction setCanvasDmiension() {\r\n  //canvas.width = 300; //window.innerWidth;\r\n  canvas.width = window.innerWidth - 40;\r\n  canvas.height = window.innerHeight - 100; //setting the height of the canvas\r\n}\r\n\r\nfunction initializeEvents() {\r\n  canvas.addEventListener('touchstart', startPaint, false);\r\n  canvas.addEventListener('mousedown', startPaintDesk, false);\r\n  canvas.addEventListener('touchmove', continuePaint, false);\r\n  canvas.addEventListener('mousemove', continuePaintDesk, false);\r\n  canvas.addEventListener('touchend', stopPaint, false);\r\n  canvas.addEventListener('mouseup', stopPaint, false);\r\n\r\n  clearBtn.addEventListener('touchend', clearCanvas,false);\r\n}\r\n\r\nfunction lines() {\r\n  var i = 0;\r\n  while (i<5)\r\n  {\r\n  context.beginPath();\r\n  context.moveTo(Math.floor(Math.random()*canvas.width),Math.floor(Math.random()*canvas.height));\r\n  context.lineTo(Math.floor(Math.random()*canvas.width),Math.floor(Math.random()*canvas.height));\r\n  context.stroke();\r\n  i++;\r\n}\r\n}\r\n\r\nfunction clearCanvas() {\r\n  context.clearRect(0,0,canvas.width,canvas.height);\r\n}\r\n\r\nfunction startPaint(evt) {\r\n  if(!buttonDown)\r\n  {\r\n    context.beginPath();\r\n    context.moveTo(evt.touches[0].pageX, evt.touches[0].pageY);\r\n    buttonDown = true;\r\n  }\r\n  evt.preventDefault();\r\n}\r\n\r\nfunction startPaintDesk(evt) {\r\n  if(!buttonDown)\r\n  {\r\n    context.beginPath();\r\n    context.moveTo(evt.offsetX, evt.offsetY);\r\n    buttonDown = true;\r\n  }\r\n  evt.preventDefault();\r\n}\r\n\r\nfunction continuePaint(evt) {\r\n  if(buttonDown)\r\n  {\r\n    context.lineTo(evt.touches[0].pageX,evt.touches[0].pageY);\r\n    context.stroke();\r\n  }\r\n}\r\n\r\nfunction continuePaintDesk(evt) {\r\n  if(buttonDown)\r\n  {\r\n    context.lineTo(evt.offsetX,evt.offsetY);\r\n    context.stroke();\r\n  }\r\n}\r\n\r\nfunction stopPaint() {\r\n  buttonDown = false;\r\n}\r\n</script>\r\n</head>\r\n<body>\r\n  <p><input type=\"button\" value=\"Clear\" id=\"clearBtn\"/></p>\r\n  <canvas id=\"paintBox\">\r\n    Your browser doesnot support canvas\r\n  </canvas>\r\n</body>\r\n</html>"]],"start1":0,"start2":0,"length1":0,"length2":3060}]],"length":3060}
